/*
 * jslider - An advanced content slider
 * ====================================
 * @version v0.5
 * @url		http://github.com/jakebellacera/jslider
 * @author  (c) Jake Bellacera - http://github.com/jakebellacera
 */

(function(a,b){"use strict";var c=b.event,d;c.special.smartresize={setup:function(){b(this).bind("resize",c.special.smartresize.handler)},teardown:function(){b(this).unbind("resize",c.special.smartresize.handler)},handler:function(a,c){var e=this,f=arguments;a.type="smartresize";if(d){clearTimeout(d)}d=setTimeout(function(){b.event.handle.apply(e,f)},c==="execAsap"?0:100)}};b.fn.smartresize=function(a){return a?this.bind("smartresize",a):this.trigger("smartresize",["execAsap"])};b.fn.jslider=function(c,d){function e(a,b){var c=[];c.length=b+1;return c.join(a)}b(this).each(function(d,f){var g=b(this),h,i,j=0,k=0,l,m,n=0,o=0,p=0,q,r,s,t,u,v,w=1,x=b.extend({visible:1,transition:"slide",direction:"normal",looping:true,speed:800,easing:"swing",buttons:true,nextText:"Next Slide",prevText:"Previous Slide",auto:true,duration:5e3,hoverPause:true,fluid:false},c),y=function(){u=Math.ceil(x.visible);h=g.addClass("slider-wrapper").css("position","relative");i=h.wrapInner("<div/>").children().addClass("slider-boundary").css("overflow","hidden");l=i.wrapInner("<div/>").children().addClass("slider-container").css("overflow","hidden");if(x.looping==="infinite"&&x.transition==="slide"){m=l.children();if(m.length%u!==0){l.append(e('<div class="empty"/>',u-m.length%u))}m=l.children();m.filter(":first").before(m.slice(-u).clone().addClass("cloned"));m.filter(":last").after(m.slice(0,u).clone().addClass("cloned"))}m=l.children();if(x.looping==="infinite"&&x.transition==="slide"){v=Math.ceil((m.length-2)/u)}else{v=Math.ceil(m.length/u)}m.addClass("slider-frame");if(x.transition==="slide"){m.css("float","left")}else if(x.transition==="slide"&&x.direction==="inverse"){m.css("float","right")}else{l.css("position","relative");m.css("position","absolute").slice(w,v).css("display","none")}if(x.buttons){q=b('<a class="slider-button slider-prev"/>').html(x.prevText).on("click",function(a){if(!b(this).hasClass("disabled")){A(w-1)}a.preventDefault()}).appendTo(h);r=b('<a class="slider-button slider-next"/>').html(x.nextText).on("click",function(a){if(!b(this).hasClass("disabled")){A(w+1)}a.preventDefault()}).appendTo(h)}z();if(x.looping==="infinite"&&x.transition==="slide"){l.css("margin-left",-k)}if(x.auto){E(x.duration);if(x.hoverPause){i.hover(function(){F()},function(){E()})}}if(x.fluid){b(a).on("smartresize",function(){z();if(x.transition==="slide"){var a=function(){var a;if(x.transition==="vertical"){a="top"}else if(x.transition==="slide-inverse"){a="right"}else{a="left"}return a},b=function(){var a;if(x.looping==="infinite"){a=k*w+1}else{a=k*w}return a};l.css("margin-"+a(),-b())}})}},z=function(){var c=i.innerWidth(),d=i.innerHeight();k=c;j=d;n=c/u;o=d;l.css({width:function(){var a;if(x.transition==="slide"){a=m.length*c}else{a=m.length*c}return a},height:o});m.each(function(){b(this).css({width:n,height:o})});a.frames=m},A=function(a){if(x.looping===true||x.looping&&x.transition!=="slide"){if(a>v){A(1);return}else if(a<=0){A(v);return}}else if(!x.looping){if(a>v||a<=0){return}}switch(x.transition){case"slide":B(a,x.direction);break;case"crossfade":C(a,true);break;case"fade":C(a);break;default:D(a);break}if(!x.looping&&x.buttons){if(w===1){q.addClass("disabled")}else{q.removeClass("disabled")}if(w===v){r.addClass("disabled")}else{r.removeClass("disabled")}}},B=function(a,b){function f(b){var c=function(){var a;if(b==="top"||b==="bottom"){a=j}else{a=k}return a};w=a;if(a>v){w=1;l.css("margin-"+b,-c())}else if(x.looping==="infinite"&&a===0){w=v;l.css("margin-"+b,-c()*v)}m.eq(w).addClass("active").siblings().removeClass("active")}var c=a<w?-1:1,d=a,e=n*u*d;if(b==="inverse"){l.filter(":not(:animated)").animate({"margin-right":-e},x.speed,x.easing,function(){f("right")})}else if(b==="vertical"){l.filter(":not(:animated)").animate({marginTop:-e},x.speed,x.easing,function(){f("top")})}else{l.filter(":not(:animated)").animate({"margin-left":-e},x.speed,x.easing,function(){f("left")})}},C=function(a,b){var c=a-1,d=w-1;if(b){m.removeClass("active").hide().css("z-index",1);m.eq(d).show(0,function(){m.eq(c).css("z-index",2).addClass("active").fadeIn(x.speed)})}else{m.eq(d).fadeOut(x.speed);m.eq(c).fadeIn(x.speed)}w=a},D=function(a){var b=a-1;w=a;m.eq(b).show().addClass("active").siblings().hide().removeClass("active")},E=function(){t=setInterval(function(){A(w+1)},x.duration)},F=function(){if(x.auto!==false){clearInterval(t)}};y()})}})(window,jQuery)
